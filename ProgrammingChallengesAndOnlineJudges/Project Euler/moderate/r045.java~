/*
	Triangle, pentagonal, and hexagonal numbers are generated by the following formulae:

	Triangle	 	Tn=n(n+1)/2	 	1, 3, 6, 10, 15, ...
	Pentagonal	 	Pn=n(3n-1)/2	 	1, 5, 12, 22, 35, ...
	Hexagonal	 	Hn=n(2n-1)	 	1, 6, 15, 28, 45, ...
	It can be verified that T285 = P165 = H143 = 40755.
	
	Find the next triangle number that is also pentagonal and hexagonal.
*/

class r045
{
	public static void main(String args[])
	{
		long tn = 40755l;
		long n;
		boolean PN, HN;
		PN = HN = false;
		long i = 286l;
		while(!(PN & HN))
		{
			i++;
			tn += i;
			for(n = 165l; n < i; n++)
			{
				if(((n * (3 * n - 1))/2) == tn)
				{
					PN = true;
					break;
				}
			}
			for(n = 143l; n < i; n++)
			{
				if((n * (2 * n - 1)) == tn)
				{
					HN = true;
					break;
				}
			}
		}
		System.out.println("\n\tAbove 40755, t(n) = p(n) = h(n) for t(" + i + ") = " + tn);
	}
}
